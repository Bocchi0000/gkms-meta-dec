flags = [0xC1, 0x7A, 0x3C, 0x9D, 0x2F, 0x71, 0x7B, 0xED, 0xE2,
         0xD0, 0xDF, 0xC9, 0xFB, 0x19, 0x3D, 0x4E, 0xD3, 0x5C,
         0xEB, 0x9A, 0x5A, 0xFF, 0x2B, 0x45, 0x91, 0x5B, 0x45,
         0xBA, 0x7E, 0x26, 0x38, 0xBC, 0x3D, 0x4F, 0x3D, 0xF8,
         3, 0x80, 0xF7, 0x19, 2, 0x42, 0xA5, 0x4B, 9, 0xA8,
         0x20, 0xC8, 0xEF, 0xBC, 0x33, 0x7C, 0xD1, 0xD9, 0x6F,
         0xC2, 0x4E, 0xF6, 0xC, 0xD3, 0x2B, 0xC1, 0x6F, 0xBB,
         0x98, 0x22, 0x8B, 0xAB, 0xDC, 0x44, 0x4B, 0x52, 0x65,
         0xD2, 0x97, 0x18, 0x59, 0xE0, 0x3B, 0xE9, 0x3B, 0x7D,
         0xCB, 0xC1, 0xF3, 0xBB, 0xEA, 0x64, 0xE0, 0x7B, 0xAA,
         0xC, 0x74, 0x23, 0xEE, 0x41, 0xD3, 0xEA, 0xB2, 0xE7,
         0x1C, 0x74, 0xEC, 0xAA, 0x71, 0xE0, 0x17, 0xFF, 0x41,
         0x57, 0x68, 0x6E, 0xBA, 0x23, 0x98, 0xAE, 0xF6, 0xAD,
         0xC8, 0xDD, 0x38, 0x27, 0xCA, 0x61, 0x9A, 0x3F, 0xDE,
         0x41, 0, 0, 0, 0x34, 1, 0x7F, 1, 0x16, 0]


with open(r"global-metadata.dat", "rb") as f:
    file_bytes = f.read()

new_bytes = bytearray(file_bytes)

for n, _ in enumerate(file_bytes):
    new_bytes[n] ^= flags[n & 0x7F]

with open(r"global-metadata-new.dat", "wb") as f:
    f.write(new_bytes)
